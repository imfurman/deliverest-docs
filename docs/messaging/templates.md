# Шаблоны сообщений

Шаблоны находятся в `/admin/new/settings/templates`. Они поддерживают SMS, push, e-mail и операторские скрипты.

## Структура шаблона

- **Тип** — sms, push, email, operator.
- **Код** — используется для вызова из кода или API.
- **Текст** — поддерживает плейсхолдеры `{{ }}` и условные конструкции `{% if %}`.
- **Переводы** — для многоязычных проектов можно добавить версии на разных языках.

## Переменные

- Передаются через вызов сервиса `message_manager->send($templateCode, $context)`.
- В шаблоне доступны данные заказа, клиента, промокода.
- Можно объявлять функции форматирования — см. `TemplateExtension`.

## Управление версиями

- Каждое изменение записывается в лог с указанием автора.
- Есть режим «черновик», чтобы проверить шаблон на себе, не затрагивая боевую рассылку.
- Поддерживается тестовая отправка на произвольный номер или устройство.
