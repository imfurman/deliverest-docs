# Интеграции

Deliverest уже содержит набор готовых интеграций и открытый API. Ниже — обзор, который помогает понять, что можно настроить самостоятельно, а где стоит подключать разработчиков.

## Готовые коннекторы

- **Платёжные провайдеры** — CloudPayments, YooKassa, Uniteller, Тинькофф, Сбер и другие (см. «[Платёжные провайдеры](../settings/payments.md)»).
- **Кассы и фискализация** — АТОЛ, OrangeData, Evotor; чеки формируются автоматически при закрытии заказа.
- **Телефония** — Zadarma, Mango, Asterisk. Записи разговоров прикрепляются к заказам, а операторы авторизуются через Deliverest.
- **Telegram / MasterBot** — уведомления и команды управления. Подробности на странице [MasterBot](../masterbot/index.md).
- **BI и отчёты** — все таблицы можно выгрузить в Excel/CSV; кроме того, Deliverest поддерживает планировщик отправки на email/FTP.

## API

- Открытая документация доступна по адресу `/doc` (ReDoc) или `/swagger` (JSON). В исходном коде см. `Superdostavka\ApiBundle`.
- Основные блоки:
  - **Orders** — создание заказов, изменение статусов, получение истории.
  - **Catalog** — список позиций, разделов, рекомендаций.
  - **Users** — клиенты, бонусы, авторизация.
  - **Courier API** — маршруты, статусы доставок, чеки курьеров.
  - **Performance API** — данные для панелей мониторинга и внешних приложений.
- Аутентификация осуществляется по токену. Запросите доступ у технической поддержки или через админку (раздел «Настройки → Интеграции»).

!!! warning "Безопасность"
    Перед публикацией токенов убедитесь, что запросы отправляются по HTTPS. Регулярно ревизуйте список активных ключей и отключайте неиспользуемые интеграции.

## Вебхуки и автоматизация

- В разделе «Настройки → Интеграции» можно включить уведомления о событиях: новый заказ, изменение статуса, низкий остаток на складе.
- Вебхуки позволяют:
  - передавать заказы в собственную CRM или бухгалтерию;
  - запускать внешние сценарии (например, автоматическую печать этикеток);
  - уведомлять сторонние сервисы о завершении доставки.

## Работа с агрегаторами и сайтом

- Deliverest предоставляет API для получения меню и оформления заказов на сторонних сайтах или в агрегаторах. Примеры запросов — в `SiteApi` и `OrdersController`.
- Для тестового окружения используйте домен `*.localhost` и отдельный ключ.
- Изменения ассортимента и цен подхватываются автоматически: достаточно обновить каталог в админке.

## Процесс подключения

1. Составьте список систем, с которыми нужно интегрироваться (оплаты, склад, CRM, BI).
2. Проверьте, можно ли решить задачу через готовый модуль. Если да — настройте интеграцию в админке.
3. Для кастомных сценариев задокументируйте бизнес-процесс и передайте разработчикам ссылку на `/doc`.
4. После подключения протестируйте все цепочки и зафиксируйте результат в «[Журнале изменений](../settings/changelog.md)».

Правильная интеграция избавляет от ручных операций и делает Deliverest центром управления доставкой.
