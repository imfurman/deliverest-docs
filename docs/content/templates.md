# Шаблоны

Шаблоны лежат в базе данных и отдаются через `TemplateBundle`. Они рендерятся при помощи кастомного `DatabaseTwigLoader`, поэтому правки можно выполнять прямо в админке.

## Работа с шаблонами

1. Перейдите в `/admin/templates/`.
2. Создайте шаблон и укажите пространство имён (например, `landing/header`).
3. Напишите разметку на Twig. Доступны все стандартные фильтры и расширения, а также кастомные из `TemplateExtension`.
4. Протестируйте шаблон через предпросмотр.

## Плейсхолдеры и данные

- В шаблон можно передавать параметры из контроллера страницы или инфоблока.
- Используйте `{% include 'block:promo-banner' %}`, чтобы подключать инфоблоки напрямую.
- Расширение `asset_url()` помогает подключать статические файлы с учётом версионирования.

## Контроль версий

- Все изменения шаблонов логируются в журнале (`template_version`).
- Перед деплоем рекомендуется экспортировать шаблоны в репозиторий — воспользуйтесь командой `php bin/console template:dump`.
- Для критичных страниц держите резервную копию в git, чтобы при необходимости быстро откатиться.
